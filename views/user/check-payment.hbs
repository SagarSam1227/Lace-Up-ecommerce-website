

<div class="container">
    <form>
        <div class="row" style="padding-top:9em">
                    <div class="col-md-6" style="padding-inline: 4em">
                        <div class="mb-25">
                            <a href="" data-toggle="modal"  data-target="#exampleModal">
                                <button style="color: rgb(7, 127, 151); border-radius: 3em;width: 8em;border: none;height: 3em;">
                                    Add Address
                                </button>
                            </a>
                            
                       {{#each addressList}} 
                       <div>
                        <div class="form-check">
                        <div class="card" style="width: auto;margin-top: 3em;">
                            <div class="card-body">
                            <input class="form-check-input" value="{{id}}" style="height: 1.5em;width: 1.5em;float: right;" type="radio" name="id" id="address-id">
                                <h5 class="pt-2">{{name}}</h5>
                                <h5 class="pt-2">{{contact}}</h5>
                                <h5 class="pt-2">{{address}}, {{locality}}</h5>
                                <h5 class="pt-2">{{city}}, {{state}} - {{pincode}}</h5>
                            </div>
                        </div>
                        </div>
                       </div>  
                        
                        {{/each}}

                        </div>
                        
                    </div>
                    <div class="col-md-6">
                        <div class="order_review">
                            <div class="mb-20">
                                <h4 style="text-align: center;color: rgb(7, 127, 151);">ORDER SUMMARY</h4>
                            </div>
                            <form action=""></form>
                            <div class="table-responsive order_table text-center">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th colspan="2">Product</th>
                                            <th>Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {{#each cart}}
                                        <tr>
                                           <td class="image product-thumbnail"><img src="/uploads/{{products.Image}}" alt="#"></td>
                                            <td>
                                                <h5 ><a href="shop-product-full.html">{{products.name}}</a></h5> <span class="product-qty">x {{quantity}}</span>
                                            </td>
                                            <td>₹ {{subTotal}}</td>
                                        </tr>
                                       {{/each}}
                                        <tr>
                                            <th style="padding-top: 3em;">SubTotal</th>
                                            <td class="product-subtotal" colspan="2" style="padding-top: 3em;">₹ {{TotalAmount}}</td>
                                        </tr>
                                        <tr>
                                            <th>Shipping</th>
                                            <td colspan="2"><em>Free Shipping</em></td>
                                        </tr>
                                        <tr>
                                            <th>Total</th>
                                            <td colspan="2" class="product-subtotal"><span class="font-xl text-brand fw-900">₹ {{TotalAmount}}</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="bt-1 border-color-1 mt-30 mb-30"></div>
                                
                            <div class="payment_method">
                                <div class="mb-25">
                                    <h5>Payment</h5>
                                </div>
                                <div class="payment_option">
                                    <div class="custome-radio">
                                        <input class="form-check-input" value="Cash on Delivery" required="" type="radio" name="payment_option" id="exampleRadios3" checked="">
                                        <label class="form-check-label" for="exampleRadios3" data-bs-toggle="collapse" data-target="#bankTranfer" aria-controls="bankTranfer">Cash on Delivery</label>
                                    </div>
                                    <div class="custome-radio">
                                        <input class="form-check-input" value="Paypal" required="" type="radio" name="payment_option" id="exampleRadios4" checked="">
                                        <label class="form-check-label" for="exampleRadios4" data-bs-toggle="collapse" data-target="#checkPayment" aria-controls="checkPayment">Razorpay</label>
                                       
                                    </div>
                                    <div class="custome-radio">
                                        <input class="form-check-input" value="Wallet" required="" type="radio" name="payment_option" id="exampleRadios5" checked="">
                                        <label class="form-check-label" for="exampleRadios5" data-bs-toggle="collapse" data-target="#checkPayment" aria-controls="checkPayment">Wallet</label>
                                       
                                    </div>
                                    
                                </div>
                            </div>
                            <button type="submit" onclick="payment(event)"  class="btn btn-fill-out btn-block mt-30" style="background: rgb(7, 127, 151);">Place Order</button>
                       
                        </div>
                    </div>
                </div>
    </form>

</div>


<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Add Address</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                           <div class="modal-body">

                                <form method="post" action="/add-address">
                                    <div class="form-group" style="float:left; width: 15.5em;">
                                        <input type="text"  required="" id="address-name" onkeyup="validateName()" name="name" placeholder="Name *">
                                    </div>
                                    <div class="form-group" style="float: right; width: 15.5em;">
                                        <input type="text" required="" id="address-no" onkeyup="validateNo()"  name="contact" placeholder="Mobile number *">
                                    </div>
                                    <div class="form-group" style="float:left; width: 15.5em;">
                                        <input required="" type="text" id="address-pincode" onkeyup="validatePincode()" name="pincode" placeholder="Pincode *">
                                    </div>
                                    <div class="form-group" style="float: right; width: 15.5em;">
                                        <input required="" type="text" name="locality" id="address-locality" onkeyup="validateLocality()"  placeholder="Locality *">
                                    </div>
                                    <div class="form-group">
                                        <input type="text"  required="" name="address" id="address-address" onkeyup="validateAddress()" placeholder="Address *">

                                    </div>
                                    <div class="form-group" style="float:left; width: 15.5em;">
                                        <input required="" type="text" name="city" id="address-city" onkeyup="validateCity()"  placeholder="City / Town/ District *">
                                    </div>
                                    <div class="form-group" style="float: right; width: 15.5em;">
                                        <input required="" type="text" name="state" id="address-state" onkeyup="validateState()" placeholder="State *">
                                    </div>
                                    <div class="form-group" style="float:left; width: 15.5em;">
                                        <input type="text" name="landmark" id="address-landmark" onkeyup="validateLandmark()" placeholder="Landmark (Optional) *">
                                    </div>
                                    <div class="form-group" style="float: right; width: 15.5em;">
                                        <input type="text" name="contact2" id="address-secondno" onkeyup="validateContactSecond()" placeholder="Alternate Phone (Optional) *">
                                    </div>

                            </div>
                            <div class="modal-footer">
                                <button type="button" style="    padding-inline: 2em;margin-right: 2em;"
                                    class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save changes</button>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>


<script>
    $('#myModal').on('shown.bs.modal', function () {
        $('#myInput').trigger('focus')
    })



 function validateName(){
    const name = document.getElementById('address-name').value
         if(name.length==0){
         document.getElementById('address-name').style.borderColor='red'
         return false;
    }
    var reg = new RegExp('^[0-9]$');

    if(reg.test(name)==true){
        document.getElementById('address-name').style.borderColor='red'
         return false;
    }

    if(!name.match(/^[A-Za-z]*\s{1}[A-Za-z]*$/))    
    {
        document.getElementById('address-name').style.borderColor='red'
         return false;
    }
    
    document.getElementById('address-name').style.borderColor='aquamarine'
    return true;

    }





    function validateNo(){
        const contact = document.getElementById('address-no').value
        const regex = /[a-zA-Z]/;
        if(contact.length==0){
            document.getElementById('address-no').style.borderColor='red'
            return false
        } 

        if(contact.length!==10){

            document.getElementById('address-no').style.borderColor='red'
            return false;
        }
        if(regex.test(contact)==true){
        document.getElementById('address-no').style.borderColor='red'
         return false;
        }

    
        document.getElementById('address-no').style.borderColor='aquamarine'
        return true
    }





    function validatePincode(){
        const pincode = document.getElementById('address-pincode').value
        const regex = /[a-zA-Z]/;
        let x= 10 
      
        if(pincode.length<6 || pincode.length>6){
            
            document.getElementById('address-pincode').style.borderColor='red'
            return false
        }
        if(regex.test(pincode)==true){
        document.getElementById('address-pincode').style.borderColor='red'
         return false;
        }
        document.getElementById('address-pincode').style.borderColor='aquamarine'
        return true
    }






    function validateState(){
        const state = document.getElementById('address-state').value

    if(state.length==0){
        
            document.getElementById('address-state').style.borderColor='red'
            return false
    } 

    const regex = /[0-9]/;
    if(regex.test(state)==true){
    
        document.getElementById('address-state').style.borderColor='red'
         return false;
    }

     document.getElementById('address-state').style.borderColor='aquamarine'
    return true;

    }




 function validateLocality(){
        const locality = document.getElementById('address-locality').value

    if(locality.length==0){
        
            document.getElementById('address-locality').style.borderColor='red'
            return false
    } 

    const regex = /[0-9]/;
    if(regex.test(locality)==true){
        document.getElementById('address-locality').style.borderColor='red'
         return false;
    }

     document.getElementById('address-locality').style.borderColor='aquamarine'
    return true;

    }
    




 function validateAddress(){
        const address = document.getElementById('address-address').value
    if(address.length==0){
    
            document.getElementById('address-address').style.borderColor='red'
            return false
    } 

     document.getElementById('address-address').style.borderColor='aquamarine'
    return true;

    }



     function validateCity(){
        const city = document.getElementById('address-city').value
    if(city.length==0){
        
            document.getElementById('address-city').style.borderColor='red'
            return false
    } 

     document.getElementById('address-city').style.borderColor='aquamarine'
    return true;

    }


function validateLandmark(){
        const landmark = document.getElementById('address-landmark').value
    if(landmark.length==0){
    
            document.getElementById('address-landmark').style.borderColor='red'
            return false
    } 

     document.getElementById('address-landmark').style.borderColor='aquamarine'
    return true;

    }





    function validateContactSecond(){
        const contactscnd = document.getElementById('address-secondno').value
        const regex = /[a-zA-Z]/;
        if(contactscnd.length==0){
            document.getElementById('address-secondno').style.borderColor='red'
            return false
        } 

        if(contactscnd.length!==10){

            document.getElementById('address-secondno').style.borderColor='red'
            return false;
        }
        if(regex.test(contactscnd)==true){
        document.getElementById('address-secondno').style.borderColor='red'
         return false;
        }

    
        document.getElementById('address-secondno').style.borderColor='aquamarine'
        return true
    }

    
</script>
